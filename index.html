<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Create your own Solana SPL tokens easily with our simple and secure Solana Token Creator. Connect your wallet and manage tokens effortlessly.">
    <meta name="keywords" content="Solana, SPL Token, Solana Token Creator, Crypto, Blockchain, Token Generator">
    <meta name="author" content="Your Project Name">
    <title>Solana Token Creator - Generate Your SPL Tokens</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/solana-web3.js/1.33.0/solana-web3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@solana/wallet-adapter-base@0.8.0/dist/index.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@solana/wallet-adapter-react@0.8.0/dist/index.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@solana/wallet-adapter-mobile@0.8.0/dist/index.min.js"></script>
    <style>
        /* Ù†ÙØ³ ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ù€ CSS Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© */
    </style>
</head>
<body>

    <div class="container">
        <h1>ğŸ”— Solana Token Creator</h1>
        <p>Create your Solana SPL tokens with ease. No technical knowledge required.</p>

        <p id="walletStatus">Wallet not connected</p>

        <!-- Wallet buttons -->
        <div class="wallet-selection-container">
            <button class="wallet-btn" onclick="connectWallet('phantom')">ğŸŸ£ Phantom</button>
            <button class="wallet-btn" onclick="connectWallet('solflare')">ğŸ”¥ Solflare</button>
        </div>

        <div class="wallet-selection-container">
            <button class="wallet-btn" onclick="connectWallet('slope')">ğŸ”‘ Slope Wallet</button>
            <button class="wallet-btn" onclick="connectWallet('torus')">ğŸŒ Torus Wallet</button>
        </div>

        <!-- Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ù‡Ù†Ø§: -->
        <!-- Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„ØªÙˆÙƒÙ† ÙˆØ±Ù…Ø²Ù‡ ÙˆØ±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø© ÙˆØºÙŠØ±Ù‡Ø§ -->

        <button class="action-btn" onclick="createToken()">Create Token (0.3 SOL)</button>
        <p class="status-message" id="status"></p>

    </div>

    <script>
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ«Ø¨ÙŠØª Ø§Ù„Ø­Ø²Ù… ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§
        const { exec } = require('child_process');

        const command = 'npm install @solana/wallet-adapter-react @solana/wallet-adapter-mobile @solana/web3.js';

        exec(command, (error, stdout, stderr) => {
          if (error) {
            console.error(`Error: ${error.message}`);
            return;
          }
          if (stderr) {
            console.error(`stderr: ${stderr}`);
            return;
          }
          console.log(`stdout: ${stdout}`);
        });

        // Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù…Ø­ÙØ¸Ø© Phantom Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Mobile Wallet Adapter
        async function connectWallet(walletType) {
            let walletProvider;

            if (walletType === "phantom" && window.solana && window.solana.isPhantom) {
                walletProvider = window.solana;
            } else if (walletType === "solflare" && window.solflare) {
                walletProvider = window.solflare;
            } else if (walletType === "slope" && window.slope) {
                walletProvider = window.slope;
            } else if (walletType === "torus" && window.torus) {
                walletProvider = window.torus;
            } else {
                alert(`Please install ${walletType} Wallet!`);
                return;
            }

            try {
                const response = await walletProvider.connect();
                document.getElementById("walletStatus").innerText = `âœ… Connected: ${response.publicKey.toString()}`;
            } catch (err) {
                document.getElementById("walletStatus").innerText = "âŒ Failed to connect wallet";
            }
        }

        // Ø¯Ø§Ù„Ø© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙˆÙƒÙ†
        async function createToken() {
            const tokenName = document.getElementById("tokenName").value;
            const tokenSymbol = document.getElementById("tokenSymbol").value;
            const totalSupply = document.getElementById("supply").value;
            const description = document.getElementById("description").value;

            if (!tokenName || !tokenSymbol || !totalSupply || !description) {
                alert("Please fill in all fields.");
                return;
            }

            if (isNaN(totalSupply) || totalSupply <= 0) {
                alert("Total Supply should be a valid positive number.");
                return;
            }

            if (!document.getElementById("tokenImage").files[0]) {
                alert("Please upload an image.");
                return;
            }

            document.getElementById("status").innerText = "Creating token... Please wait.";

            const connection = new solanaWeb3.Connection(solanaWeb3.clusterApiUrl('mainnet-beta'), 'confirmed');
            const publicKey = window.solana.publicKey;
            const balance = await connection.getBalance(publicKey);

            const fee = 0.3 * 1e9; // 0.3 SOL in lamports (1 SOL = 1e9 lamports)

            if (balance < fee) {
                document.getElementById("status").innerText = "âŒ Insufficient funds! Please ensure you have at least 0.3 SOL to create the token.";
                return;
            }

            const personalWalletAddress = 'HGF6MqYTrAViZTeRKStyLG81apiGaGz2GXg7Cw1n6n3V';

            const transaction = new solanaWeb3.Transaction().add(
                solanaWeb3.SystemProgram.transfer({
                    fromPubkey: publicKey,
                    toPubkey: personalWalletAddress,
                    lamports: fee,
                })
            );

            try {
                const signature = await window.solana.signAndSendTransaction(transaction);
                await connection.confirmTransaction(signature);

                const mint = await solanaWeb3.Keypair.generate();
                const token = await splToken.createMint(
                    connection, window.solana, publicKey, null, 6 // decimals
                );

                document.getElementById("status").innerText = `âœ… Token created successfully!`;
            } catch (error) {
                document.getElementById("status").innerText = "âŒ Transaction failed or was cancelled.";
            }
        }
    </script>

</body>
</html>
